<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录 - AI智能助手</title>
    <link rel="stylesheet" th:href="@{/font/css/login.min.css}">
    <link rel="stylesheet" th:href="@{/auth.css}">
</head>

<body>
    <!-- Nexus标题 - 右上角 -->
    <div class="login-header">
        <h1 class="nexus-title-login">
            <span style="cursor: pointer;">
                Ne<span class="x-highlight">x</span>us
            </span>
        </h1>
        <p class="subtitle-login">点亮思维之光</p>
    </div>
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#0099ff" fill-opacity="1" d="M0,192L48,197.3C96,203,192,213,288,229.3C384,245,480,267,576,250.7C672,235,768,181,864,181.3C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>
    <div class="user">
        <i class="fa fa-user"></i>
        <div class="head">account login</div>
    </div>
    <div class="container">
        <div class="box login">
            <div class="form-content">
                <div class="avtar">
                    <div class="pic"><img th:src="@{/img/1.jpg}" alt=""></div>
                </div>
                <h1>欢迎回来</h1>
                <form action="/login" method="post" class="form" th:object="${loginDTO}">
                    <div>
                        <i class="fa fa-user-o"></i>
                        <input type="text" placeholder="用户名或邮箱" th:field="*{username}" required>
                    </div>
                    <div>
                        <i class="fa fa-key"></i>
                        <input type="password" placeholder="密码" th:field="*{password}" required>
                    </div>
                    <div class="btn">
                        <button type="submit">登录</button>
                    </div>
                    <div class="message-container" style="min-height: 30px; margin-top: 10px;">
                        <div th:if="${loginError}" class="error-message" th:text="${loginError}" style="color: #ff3860; font-size: 0.85rem; text-align: center; padding: 5px;"></div>
                    </div>
                </form>
                <p class="btn-something">
                    还没有账号？ <span class="signupbtn">注册</span>
                </p>
            </div>
        </div>
        <div class="box signup">
            <div class="form-content">
                <div class="avtar">
                    <div class="pic"><img th:src="@{/img/2.jpg}" alt=""></div>
                </div>
                <h1>开始使用</h1>
                <form class="form">
                    <div>
                        <i class="fa fa-user-o"></i>
                        <input type="text" name="username" placeholder="用户名" required>
                    </div>
                    <div>
                        <i class="fa fa-envelope-o"></i>
                        <input type="email" name="email" placeholder="电子邮箱" required>
                    </div>
                    <div>
                        <i class="fa fa-key"></i>
                        <input type="password" name="password" placeholder="密码" required>
                    </div>
                    <div class="btn">
                        <button type="submit">注册</button>
                    </div>
                    <div class="message-container" style="min-height: 30px; margin-top: 10px;">
                        <!-- 消息将通过JavaScript动态添加 -->
                    </div>
                </form>
                <p class="btn-something">
                    已有账号？ <span class="loginbtn">登录</span>
                </p>
            </div>
        </div>
    </div>
</body>
<script>
    let login = document.querySelector(".login");
    let signup = document.querySelector(".signup");

    let loginbtn = document.querySelector(".loginbtn");
    let siginupbtn = document.querySelector(".signupbtn");

    let user = document.querySelector(".head");

    siginupbtn.addEventListener("click", () => {
        login.style.transform = "rotateY(180deg)"
        signup.style.transform = "rotateY(0deg)";
        user.innerHTML = "create account"
    })

    loginbtn.addEventListener("click", () => {
        login.style.transform = "rotateY(0deg)"
        signup.style.transform = "rotateY(-180deg)";
        user.innerHTML = "account login"
    })
</script>
<script th:src="@{/auth.js}"></script>
</html>